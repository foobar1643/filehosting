# Filehosting - light and easy filesharing app

### Возможности
* Анонимная загрузка файлов на сервер
* Счетчик общего количества скачиваний для файла
* Страница отображения популярных и последних файлов
* Для загрузившего файл пользователя - возможность удаления файла
* Вывод уменьшеной копии изображений на странице скачивания
* Плеер для аудио и видео файлов на странице скачивания
* Для изображений, видео и аудио файлов вывод дополнительной информации
* Возможность оставлять комментарии к файлам
* Древовидные комментарии к файлам
* Полнотекстовый поиск по именам файлов
* Настройка максимального размера загружаемых файлов в конфигурации приложения

### Используемые технологии
1. [Twitter Bootstrap]
2. Микрофреймворк [Slim]
3. Шаблонизатор [Twig]
4. Плеер для видео [video.js]
5. Совместимая с Composer [GetId3]

### Требования
1. Веб-сервер с поддержкой [PHP] *5.5* и выше.
2. База данных [PostgreSQL].
3. Поисковый движок [Sphinx].
4. Пакетный менеджер [Composer].
5. Cron

### Установка
1. Загрузите файлы приложения на ваш веб-сервер.
2. Настройте ваш веб-сервер таким образом, чтобы корневой директорией являлась папка `public`
3. Установите зависимости приложения с помощью команды `composer install`
4. Настройте конфигурацию путей на своем веб-сервере [как описано здесь].
5. Отредактируйте необходимые параметры для подключения к БД и поисковому движку в файле `config.ini`
6. Импортируйте файл `filehosting.sql` в вашу базу данных.
7. Измените права доступа к папке `public/storage` и всем папкам которые находятся внутри неё с помощью команды `chmod 0777 public/storage -R`
8. Отредактируйте файл конфигурации поискового движка Sphinx, или замените его готовым файлом `sphinx.conf`.
9. Инициализируйте поисковые индексы используя команду `indexer --all`
10. Установите права исполняемого файла для `cron/reindex.sh` используя команду `chmod a+x reindex.sh`
11. Добавьте в свой `crontab` запись для автоматического запуска переиндексации.
12. Для использования в режиме &laquo;продакшен&raquo; измените `dispaly_errors` на **0** в файле `php.ini`  

[PHP]: <https://secure.php.net/>
[Sphinx]: <http://sphinxsearch.com/>
[PostgreSQL]: <http://www.postgresql.org/>
[Composer]: <https://getcomposer.org/>
[GetId3]: <https://github.com/phansys/GetId3>
[video.js]: <http://videojs.com/>
[Twig]: <http://twig.sensiolabs.org/>
[Slim]: <http://www.slimframework.com/>
[Twitter Bootstrap]: <http://getbootstrap.com/>
[как описано здесь]: <http://www.slimframework.com/docs/start/web-servers.html>